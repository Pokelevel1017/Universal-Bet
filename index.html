<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universal-Bet</title>
    <style>
        :root { 
            --dark-blue: #0b1120; --mid-blue: #1e293b; --light-blue: #38bdf8; 
            --accent-green: #00e701; --card-bg: #111827; --text-muted: #94a3b8;
            --premium-gradient: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
        }

        body { background-color: var(--dark-blue); color: white; font-family: 'Inter', sans-serif; margin: 0; display: flex; flex-direction: column; height: 100vh; overflow: hidden; }

        /* NAVIGATION */
        nav { background: #070b14; padding: 0 2rem; display: flex; justify-content: space-between; align-items: center; height: 70px; border-bottom: 1px solid var(--mid-blue); flex-shrink: 0; }
        .logo { font-size: 1.5rem; font-weight: 900; letter-spacing: -1px; cursor: pointer; }
        .logo span { color: var(--light-blue); }

        .nav-right { display: flex; align-items: center; gap: 15px; }
        .balance-box { background: var(--mid-blue); padding: 10px 20px; border-radius: 8px; font-weight: 800; color: var(--accent-green); display: none; align-items: center; gap: 10px; font-size: 1.1rem; border: 1px solid rgba(56, 189, 248, 0.2); }
        .btn { padding: 8px 18px; border-radius: 6px; font-weight: 700; cursor: pointer; border: none; font-size: 14px; transition: 0.2s; }
        .btn-login { background: transparent; color: white; border: 1px solid var(--mid-blue); }
        .btn-signup { background: var(--light-blue); color: var(--dark-blue); }

        /* MAIN LAYOUT */
        .main-content { display: flex; flex: 1; overflow: hidden; }
        .sidebar { width: 280px; background: #070b14; border-right: 1px solid var(--mid-blue); padding: 20px 12px; display: flex; flex-direction: column; gap: 6px; flex-shrink: 0; overflow-y: auto; }
        .sidebar-label { font-size: 11px; font-weight: 800; color: var(--text-muted); text-transform: uppercase; margin: 20px 0 10px 15px; letter-spacing: 1px; }
        .side-link { padding: 12px 15px; border-radius: 8px; color: var(--text-muted); text-decoration: none; font-weight: 600; transition: 0.2s; display: flex; align-items: center; gap: 12px; font-size: 14px; }
        .side-link:hover { background: var(--mid-blue); color: white; }

        /* PREMIUM DAILY REWARD SIDEBAR */
        .daily-reward-card { 
            background: linear-gradient(145deg, #1e293b, #0f172a); 
            border: 1px solid rgba(56, 189, 248, 0.3);
            border-radius: 12px; 
            padding: 20px; 
            margin: 20px 10px; 
            text-align: center;
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }
        .daily-reward-card h4 { margin: 0; font-size: 14px; color: white; letter-spacing: 0.5px; }
        .reward-amt { font-size: 24px; font-weight: 900; color: var(--accent-green); margin: 10px 0; }
        .btn-claim { 
            background: var(--light-blue); 
            color: var(--dark-blue); 
            border: none; 
            padding: 10px; 
            border-radius: 8px; 
            width: 100%; 
            font-weight: 800; 
            cursor: pointer; 
            transition: 0.3s;
            text-transform: uppercase;
            font-size: 12px;
        }
        .btn-claim:disabled { background: #334155; color: #64748b; cursor: not-allowed; border: 1px solid transparent; }

        /* DASHBOARD */
        .dashboard { flex: 1; padding: 40px; overflow-y: auto; background: radial-gradient(circle at top left, #1e293b, #0b1120); scroll-behavior: smooth; }
        .status-header { margin-bottom: 40px; }
        .status-header h1 { font-size: 2.2rem; font-weight: 900; margin: 0; }
        .highlight { color: var(--light-blue); }

        /* CLEAN GAME CARDS - ONLY 4 */
        .game-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-top: 20px; }
        .game-card { background: var(--card-bg); border-radius: 16px; overflow: hidden; transition: 0.3s; cursor: pointer; border: 1px solid rgba(255,255,255,0.05); }
        .game-card:hover { transform: translateY(-8px); border-color: var(--light-blue); box-shadow: 0 20px 40px rgba(0,0,0,0.6); }
        .game-img { width: 100%; height: 220px; display: flex; align-items: center; justify-content: center; font-size: 4.5rem; background: var(--premium-gradient); }
        .game-info { padding: 15px; text-align: center; font-weight: 800; font-size: 1.1rem; border-top: 1px solid rgba(255,255,255,0.05); }

        /* LEADERBOARD back and cleaner */
        .section-header { margin-top: 50px; display: flex; align-items: center; gap: 10px; margin-bottom: 20px; }
        .section-header h2 { font-size: 12px; font-weight: 800; text-transform: uppercase; color: var(--text-muted); letter-spacing: 2px; margin: 0; }
        .leaderboard-container { background: var(--card-bg); border-radius: 12px; border: 1px solid var(--mid-blue); overflow: hidden; }
        .leaderboard-table { width: 100%; border-collapse: collapse; text-align: left; }
        .leaderboard-table th { background: #070b14; padding: 15px; color: var(--text-muted); font-size: 10px; text-transform: uppercase; }
        .leaderboard-table td { padding: 15px; border-top: 1px solid var(--mid-blue); font-weight: 600; font-size: 14px; }
        .rank-cell { width: 60px; color: var(--light-blue); font-weight: 900; }
        .bal-cell { color: var(--accent-green); text-align: right; font-family: monospace; font-size: 16px; }

        .footer { text-align: center; padding: 60px 0 40px; color: #475569; font-weight: 700; font-size: 12px; letter-spacing: 3px; }

        /* MODAL */
        .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.85); display: none; align-items: center; justify-content: center; z-index: 1000; backdrop-filter: blur(4px); }
        .modal { background: var(--card-bg); padding: 40px; border-radius: 16px; width: 380px; border: 1px solid var(--mid-blue); position: relative; }
        .modal-close { position: absolute; top: 20px; right: 20px; font-size: 24px; color: var(--text-muted); cursor: pointer; }
        .modal input { width: 100%; padding: 14px; margin-bottom: 15px; border-radius: 8px; border: 1px solid var(--mid-blue); background: var(--dark-blue); color: white; box-sizing: border-box; outline: none; }
        .btn-submit { width: 100%; background: var(--light-blue); color: var(--dark-blue); padding: 14px; border-radius: 8px; font-weight: 900; cursor: pointer; border: none; }
    </style>
</head>
<body>

<nav>
    <div class="logo" onclick="location.href='index.html'">UNIVERSAL<span>-BET</span></div>
    <div class="nav-right">
        <div class="balance-box" id="balanceDisplay"><span id="navBal">$0.00</span></div>
        <div class="auth-btns" id="authSection">
            <button class="btn btn-login" onclick="openModal('login')">Log In</button>
            <button class="btn btn-signup" onclick="openModal('signup')">Sign Up</button>
        </div>
        <button id="logoutBtn" class="btn btn-login" style="display:none;" onclick="logout()">Log Out</button>
    </div>
</nav>

<div class="main-content">
    <aside class="sidebar">
        <a href="index.html" class="side-link" style="color:white; background:var(--mid-blue);"><span>üè†</span> Home</a>
        <div class="sidebar-label">Games</div>
        <a href="blackjack.html" class="side-link"><span>üÉè</span> Blackjack</a>
        <a href="dice.html" class="side-link"><span>üé≤</span> Dice</a>
        <a href="mines.html" class="side-link"><span>üí£</span> Mines</a>
        <a href="plinko.html" class="side-link"><span>üîÆ</span> Plinko</a>
        <a href="roulette.html" class="side-link"><span>üé°</span> Roulette</a>
        <a href="rps.html" class="side-link"><span>‚úä</span> Rock Paper Scissors</a>
        <a href="tower.html" class="side-link"><span>üóº</span> Tower</a>

        <div id="bonusSection" style="display:none;">
            <div class="daily-reward-card">
                <h4>Daily Reward</h4>
                <div class="reward-amt">$25.00</div>
                <button class="btn-claim" id="claimBtn" onclick="claimBonus()">Claim</button>
                <div id="bonusTimer" style="font-size: 11px; color: var(--text-muted); margin-top: 10px; font-weight: 600;"></div>
            </div>
        </div>
    </aside>

    <main class="dashboard">
        <div class="status-header" id="headerContent">
            <h1>Welcome to <span class="highlight">Universal-Bet</span></h1>
            <p>Please sign up or log in to start playing.</p>
        </div>

        <div class="section-header"><h2>Most Popular</h2></div>
        <div class="game-grid">
            <div class="game-card" onclick="playGame('blackjack.html')"><div class="game-img">üÉè</div><div class="game-info">Blackjack</div></div>
            <div class="game-card" onclick="playGame('mines.html')"><div class="game-img">üí£</div><div class="game-info">Mines</div></div>
            <div class="game-card" onclick="playGame('roulette.html')"><div class="game-img">üé°</div><div class="game-info">Roulette</div></div>
            <div class="game-card" onclick="playGame('plinko.html')"><div class="game-img">üîÆ</div><div class="game-info">Plinko</div></div>
        </div>

        <div class="section-header"><h2>Wealth Leaderboard</h2></div>
        <div class="leaderboard-container">
            <table class="leaderboard-table">
                <thead>
                    <tr><th class="rank-cell">Rank</th><th>Username</th><th style="text-align: right;">Total Balance</th></tr>
                </thead>
                <tbody id="leaderboardBody"></tbody>
            </table>
        </div>

        <div class="footer">WEBSITE MADE BY FUSIONZZZ</div>
    </main>
</div>

<div class="modal-overlay" id="modalOverlay">
    <div class="modal">
        <div class="modal-close" onclick="closeModal()">&times;</div>
        <h2 id="modalTitle">Account</h2>
        <input type="text" id="username" placeholder="Username">
        <input type="password" id="password" placeholder="Password">
        <button class="btn-submit" onclick="handleAuth()">Continue</button>
        <p style="font-size: 13px; color: var(--text-muted); margin-top: 20px; cursor: pointer; text-align: center;" onclick="toggleModalType()" id="modalToggleText"></p>
    </div>
</div>

<script>
    let currentMode = 'signup';

    function checkAuth() {
        const user = JSON.parse(localStorage.getItem('currentUser'));
        if (user) {
            document.getElementById('authSection').style.display = 'none';
            document.getElementById('balanceDisplay').style.display = 'flex';
            document.getElementById('logoutBtn').style.display = 'block';
            document.getElementById('bonusSection').style.display = 'block';
            document.getElementById('navBal').innerText = `$${user.balance.toLocaleString(undefined, {minimumFractionDigits: 2})}`;
            document.getElementById('headerContent').innerHTML = `<h1>Welcome, <span class="highlight">${user.name}</span>!</h1><p>The tables are waiting for you.</p>`;
            updateBonusUI();
        }
    }

    function updateLeaderboard() {
        const users = JSON.parse(localStorage.getItem('users') || '{}');
        const sorted = Object.entries(users)
            .map(([name, data]) => ({ name, balance: data.balance }))
            .sort((a, b) => b.balance - a.balance)
            .slice(0, 10);

        const tbody = document.getElementById('leaderboardBody');
        tbody.innerHTML = sorted.length ? '' : '<tr><td colspan="3" style="text-align:center; padding:30px; color:#475569;">No players registered yet.</td></tr>';
        
        sorted.forEach((u, i) => {
            tbody.innerHTML += `<tr><td class="rank-cell">#${i+1}</td><td>${u.name}</td><td class="bal-cell">$${u.balance.toLocaleString(undefined,{minimumFractionDigits:2})}</td></tr>`;
        });
    }

    function claimBonus() {
        const userSession = JSON.parse(localStorage.getItem('currentUser'));
        let users = JSON.parse(localStorage.getItem('users'));
        const now = Date.now();
        const oneDay = 24 * 60 * 60 * 1000;

        if (now - (users[userSession.name].lastBonus || 0) > oneDay) {
            users[userSession.name].balance += 25.00;
            users[userSession.name].lastBonus = now;
            userSession.balance += 25.00;
            localStorage.setItem('users', JSON.stringify(users));
            localStorage.setItem('currentUser', JSON.stringify(userSession));
            location.reload();
        }
    }

    function updateBonusUI() {
        const userSession = JSON.parse(localStorage.getItem('currentUser'));
        const users = JSON.parse(localStorage.getItem('users'));
        const lastClaim = users[userSession.name].lastBonus || 0;
        const now = Date.now();
        const oneDay = 24 * 60 * 60 * 1000;
        const btn = document.getElementById('claimBtn');
        const timer = document.getElementById('bonusTimer');

        if (now - lastClaim < oneDay) {
            btn.disabled = true;
            btn.innerText = "Locked";
            const diff = oneDay - (now - lastClaim);
            const h = Math.floor(diff / (1000 * 60 * 60));
            const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            timer.innerText = `NEXT CLAIM IN ${h}H ${m}M`;
        } else {
            btn.disabled = false;
            btn.innerText = "Claim Reward";
            timer.innerText = "READY TO COLLECT!";
        }
    }

    function handleAuth() {
        const user = document.getElementById('username').value.trim();
        const pass = document.getElementById('password').value.trim();
        if (!user || !pass) return alert("Fill all fields.");
        let users = JSON.parse(localStorage.getItem('users') || '{}');

        if (currentMode === 'signup') {
            if (users[user]) return alert("Taken.");
            users[user] = { password: pass, balance: 100.00, lastBonus: 0 };
            localStorage.setItem('users', JSON.stringify(users));
            openModal('login');
        } else {
            if (users[user] && users[user].password === pass) {
                localStorage.setItem('currentUser', JSON.stringify({ name: user, balance: users[user].balance }));
                location.reload(); 
            } else { alert("Wrong credentials."); }
        }
    }

    function openModal(m) { currentMode = m; document.getElementById('modalOverlay').style.display='flex'; document.getElementById('modalTitle').innerText = m === 'signup' ? 'Create Account' : 'Log In'; document.getElementById('modalToggleText').innerText = m === 'signup' ? 'Have an account? Log In' : 'Need an account? Sign Up'; }
    function closeModal() { document.getElementById('modalOverlay').style.display='none'; }
    function toggleModalType() { openModal(currentMode === 'signup' ? 'login' : 'signup'); }
    function logout() { localStorage.removeItem('currentUser'); location.reload(); }
    function playGame(url) { if (!localStorage.getItem('currentUser')) openModal('login'); else location.href = url; }

    checkAuth();
    updateLeaderboard();
</script>
</body>
</html>
